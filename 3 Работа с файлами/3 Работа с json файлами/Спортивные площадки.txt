''' 
Задание: 
Вам доступен файл playgrounds.csv с информацией о спортивных площадках Москвы. 
В первом столбце записан тип площадки,  во втором — административный округ, в третьем — название района, в четвертом — адрес:

ObjectName;AdmArea;District;Address
Парк, озелененная городская территория «Лианозовский парк культуры и отдыха»;Северо-Восточный административный округ;район Лианозово;Угличская улица, дом 13
...
Напишите программу, создающую JSON-объект, ключом в котором является административный округ, а значением — JSON-объект, 
в котором, в свою очередь, ключом является название района, относящийся к этому административному округу, а значением — список адресов всех площадок в этом районе. 
Полученный JSON-объект программа должна записать в файл addresses.json.

Примечание 1. Адреса в списках должны располагаться в своем исходном порядке.
Примечание 2. Разделителем в файле playgrounds.csv является точка с запятой, при этом кавычки не используются.
Примечание 3. Начальная часть файла addresses.json выглядит так:

{
   "Северо-Восточный административный округ": {
      "район Лианозово": [
         "Угличская улица, дом 13",
         "Алтуфьевское шоссе, дом 147А"
      ],
      "район Отрадное": [
         "Алтуфьевское шоссе, дом 20А",
         "Юрловский проезд, дом 8, строение 1",
         "Юрловский проезд, дом 8, строение 1"
      ],
      ...
   },
   ...
}

От: 1 ноября 2023 г.
'''

import json
import csv

with open('playgrounds.csv', 'r', encoding='utf-8') as csv_file:
  text = list(csv.DictReader(csv_file, delimiter=';'))
  AdmArea_dict = {}
  for t in text:
    if AdmArea_dict.get(t['AdmArea']) is None:
      AdmArea_dict[t['AdmArea']] = {}
    if AdmArea_dict[t['AdmArea']].get(t['District']) is None:
      AdmArea_dict[t['AdmArea']][t['District']] = [t['Address']]
    else:
      AdmArea_dict[t['AdmArea']][t['District']].append(t['Address'])
      
with open('addresses.json', 'w', encoding='utf-8') as json_file:
  json.dump(AdmArea_dict, json_file, indent=3, ensure_ascii=False)
  

  
  





































